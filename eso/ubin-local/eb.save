#!/bin/bash
alias nano='
function _n()
{
	local -i not_readable=0
	for x in "$@"; do
		if [[ -f "$x" && ! -w "$x" ]]; then
			let not_readable++
		elif [[ -f "$x" && -r "$x" ]]; then
			let not_readable--
		elif [[ $x =~ ^[-+] ]]; then
			true debug trace optionok
		else
			true debug trace "warning: command line has unknowns"
		fi
	done
	echo "check to see if we are mostly editing protected files... (negative means more nonsystem files, 1+ means more admin files)"
	echo "file readability factor: $not_readable"; 
	if [[ $not_readable -lt 1 ]]; then nano "$@"; else sudo nano "$@"; fi; unset -f _n; }; _n'
